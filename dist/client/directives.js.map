{"version":3,"sources":["client/directives.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,CAAC,kBAAkB,UAAU,SAAS;IAClD;;IAEA,IAAI;IACJ,OAAO;QACH,SAAS,CAAC,UAAU,eAAe;YAC/B,YAAY,cAAc;;QAE9B,SAAS,YAAY;;YAF7B,UAAU,UAAU,UAAU,CAC1B,YAAY;gBACR,OAAO;oBACH,UAAU;oBACV,SAAS;oBACT,YAAY;oBACZ,OAAO;wBACH,UAAU;;oBAEd,UAAU;oBACV,MAAM,SAAA,KAAU,OAAO,SAAS,YAAY;;wBAExC,IAAI;wBACJ,IAAI;;wBAEJ,EAAE,OAAO,cAAc;wBACvB,IAAI,MAAM,EAAE,OAAO,IAAI,QAAQ,IAAI;;wBAGnC,IAAI,cAAc;wBAClB,IAAI,SAAS;4BACT,eAAgB,EAAE,OAAO,UAAU;4BACnC,YAAa,EAAE,OAAO,UAAU;4BAChC,UAAW,EAAE,OAAO,UAAU;;;wBAGlC,OAAO,WAAW,MAAM;wBACxB,IAAI,UAAU,EAAE,OAAO,eAAe,MAAM;wBAC5C,EAAE,QAAQ,OAAO,QAAQ,MAAM;wBAC/B,IAAI;;wBAEJ,IAAI,GAAG,aAAa,UAAS,GAAG;4BAC5B,IAAI,UAAU,EAAE,OAAO,eAAe,MAAM;;;wBAIhD,IAAI,GAAG,iBAAiB,UAAS,GAAG;4BAChC,cAAc,EAAE,OAAO;4BACvB,cAAc,EAAE,OAAO;;4BAEvB,IAAI,UAAU,EAAE;4BAChB,QAAQ,WAAW;gCACf,MAAM;gCACN,UAAU;oCACN,MAAM;oCACN,aAAa,CAAC,EAAE,OAAO,KAAK,EAAE,OAAO;;gCAEzC,YAAY;oCACR,SAAS;oCACT,gBAAgB;oCAChB,iBAAiB;;;4BAGzB,IAAI,QAAQ,CAAC,aAAY,cAAa;;;wBAG1C,IAAI,kBAAkB,EAAE,OAAO,gBAAiB,iBAC5C;4BACI,WAAW;4BACX,cAAc;;wBAEtB,gBAAgB,MAAM;wBACtB,IAAI,UAAU;;;;;YAO9B,UAAU,UAAU,WAAW,YAAW;gBAClC,OAAO;oBACH,UAAU;oBACV,aAAa;oBACb,MAAM,SAAA,KAAS,OAAO,SAAS;wBAC3B,IAAI,WAAW,EAAE,SAAS,SAAS;wBACnC,SAAS,QAAQ,SAAS;;;;;;GAIvC","file":"client/directives.js","sourcesContent":["/**\n * Created by knandula on 26/02/16.\n */\n\nimport appModule from 'client/config';\n\nappModule.directive('mapbox', [\n    function () {\n        return {\n            restrict: 'EA',\n            replace: true,\n            transclude: true,\n            scope: {\n                callback: \"=\"\n            },\n            template: '<div><pre id=\"info\" style=\" display: block;position: relative;margin: 0px auto;width: 50%;padding: 10px;border: none;border-radius: 3px;font-size: 12px;text-align: center;color: #222;background: #fff;\"></pre></div>',\n            link: function (scope, element, attributes) {\n\n                var currentlats;\n                var currnetlong;\n\n                L.mapbox.accessToken = 'pk.eyJ1IjoiYmx1ZWdlbmUiLCJhIjoiY2lsMms0OHJnM2N3ZXU0bTN4Y3k2NTVsMCJ9.CRmZ9bRkRykd6v-5nqbGBg';\n                var map = L.mapbox.map(element[0], 'bluegene.ffdb711a');\n\n                //var map = L.mapbox.map(element[0],null);\n                map.zoomControl = false;\n                var layers = {\n                    SatelliteView : L.mapbox.tileLayer('bluegene.mfl8kdhk'),\n                    StreetView : L.mapbox.tileLayer('bluegene.ffdb711a'),\n                    DarkView : L.mapbox.tileLayer('bluegene.mfl79iea')\n                };\n\n                layers.StreetView.addTo(map);\n                var myLayer = L.mapbox.featureLayer().addTo(map);\n                L.control.layers(layers).addTo(map);\n                map.locate();\n\n                map.on('mousemove', function(e) {\n                    var myLayer = L.mapbox.featureLayer().addTo(map);\n\n                });\n\n                map.on('locationfound', function(e) {\n                    currentlats = e.latlng.lat;\n                    currnetlong = e.latlng.lng;\n\n                    map.fitBounds(e.bounds);\n                    myLayer.setGeoJSON({\n                        type: 'Feature',\n                        geometry: {\n                            type: 'Point',\n                            coordinates: [e.latlng.lng, e.latlng.lat]\n                        },\n                        properties: {\n                            'title': 'StreatBeat',\n                            'marker-color': '#ff8888',\n                            'marker-symbol': 'star'\n                        }\n                    });\n                    map.setView([currentlats,currnetlong],16);\n                });\n                // Initialize the geocoder control and add it to the map.\n                var geocoderControl = L.mapbox.geocoderControl( 'mapbox.places',\n                    {\n                        proximity :false,\n                        autocomplete: true\n                    });\n                geocoderControl.addTo(map);\n                map.touchZoom.enable();\n                //scope.callback(map);\n            }\n        };\n    }\n]);\n\nappModule.directive('sidebar', function() {\n        return {\n            restrict: 'E',\n            templateUrl: 'client/app/views/sidebar.html',\n            link: function(scope, element) {\n                var $sidebar = $(element).children('[data-pages=\"sidebar\"]');\n                $sidebar.sidebar($sidebar.data());\n            }\n        };\n    });"],"sourceRoot":"/source/"}