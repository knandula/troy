{"version":3,"sources":["client/directives.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,CAAC,kBAAkB,UAAU,SAAS;IAClD;;IAEA,IAAI;IACJ,OAAO;QACH,SAAS,CAAC,UAAU,eAAe;YAC/B,YAAY,cAAc;;QAE9B,SAAS,YAAY;;YAF7B,UAAU,UAAU,UAAU,CAC1B,YAAY;gBACR,OAAO;oBACH,UAAU;oBACV,SAAS;oBACT,YAAY;oBACZ,OAAO;wBACH,UAAU;;oBAEd,UAAU;oBACV,MAAM,SAAA,KAAU,OAAO,SAAS,YAAY;;wBAExC,IAAI;wBACJ,IAAI;;wBAEJ,EAAE,OAAO,cAAc;wBACvB,IAAI,MAAM,EAAE,OAAO,IAAI,QAAQ,IAAI;;wBAGnC,IAAI,cAAc;wBAClB,IAAI,SAAS;4BACT,eAAgB,EAAE,OAAO,UAAU;4BACnC,YAAa,EAAE,OAAO,UAAU;4BAChC,UAAW,EAAE,OAAO,UAAU;;;wBAGlC,OAAO,WAAW,MAAM;wBACxB,IAAI,UAAU,EAAE,OAAO,eAAe,MAAM;wBAC5C,EAAE,QAAQ,OAAO,QAAQ,MAAM;wBAC/B,IAAI;;wBAEJ,IAAI,GAAG,aAAa,UAAS,GAAG;4BAC5B,IAAI,UAAU,EAAE,OAAO,eAAe,MAAM;;;wBAIhD,IAAI,GAAG,iBAAiB,UAAS,GAAG;4BAChC,cAAc,EAAE,OAAO;4BACvB,cAAc,EAAE,OAAO;;4BAEvB,IAAI,UAAU,EAAE;4BAChB,QAAQ,WAAW;gCACf,MAAM;gCACN,UAAU;oCACN,MAAM;oCACN,aAAa,CAAC,EAAE,OAAO,KAAK,EAAE,OAAO;;gCAEzC,YAAY;oCACR,SAAS;oCACT,gBAAgB;oCAChB,iBAAiB;;;4BAGzB,IAAI,QAAQ,CAAC,aAAY,cAAa;;;wBAG1C,IAAI,kBAAkB,EAAE,OAAO,gBAAiB,iBAC5C;4BACI,WAAW;4BACX,cAAc;;wBAEtB,gBAAgB,MAAM;;wBAEtB,MAAM,SAAS;;;;;YAM/B,UAAU,UAAU,WAAW,YAAW;gBAClC,OAAO;oBACH,UAAU;oBACV,aAAa;oBACb,MAAM,SAAA,KAAS,OAAO,SAAS;wBAC3B,IAAI,WAAW,EAAE,SAAS,SAAS;wBACnC,SAAS,QAAQ,SAAS;;;;;;GAKvC","file":"client/directives.js","sourcesContent":["/**\r\n * Created by knandula on 26/02/16.\r\n */\r\n\r\nimport appModule from 'client/config';\r\n\r\nappModule.directive('mapbox', [\r\n    function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n                callback: '='\r\n            },\r\n            template: '<div><pre id=\"info\" style=\" display: block;position: relative;margin: 0px auto;width: 50%;padding: 10px;border: none;border-radius: 3px;font-size: 12px;text-align: center;color: #222;background: #fff;\"></pre></div>',\r\n            link: function (scope, element, attributes) {\r\n\r\n                var currentlats;\r\n                var currnetlong;\r\n\r\n                L.mapbox.accessToken = 'pk.eyJ1IjoiYmx1ZWdlbmUiLCJhIjoiY2lsMms0OHJnM2N3ZXU0bTN4Y3k2NTVsMCJ9.CRmZ9bRkRykd6v-5nqbGBg';\r\n                var map = L.mapbox.map(element[0], 'bluegene.ffdb711a');\r\n\r\n                //var map = L.mapbox.map(element[0],null);\r\n                map.zoomControl = false;\r\n                var layers = {\r\n                    SatelliteView : L.mapbox.tileLayer('bluegene.mfl8kdhk'),\r\n                    StreetView : L.mapbox.tileLayer('bluegene.ffdb711a'),\r\n                    DarkView : L.mapbox.tileLayer('bluegene.mfl79iea')\r\n                };\r\n\r\n                layers.StreetView.addTo(map);\r\n                var myLayer = L.mapbox.featureLayer().addTo(map);\r\n                L.control.layers(layers).addTo(map);\r\n                map.locate();\r\n\r\n                map.on('mousemove', function(e) {\r\n                    var myLayer = L.mapbox.featureLayer().addTo(map);\r\n\r\n                });\r\n\r\n                map.on('locationfound', function(e) {\r\n                    currentlats = e.latlng.lat;\r\n                    currnetlong = e.latlng.lng;\r\n\r\n                    map.fitBounds(e.bounds);\r\n                    myLayer.setGeoJSON({\r\n                        type: 'Feature',\r\n                        geometry: {\r\n                            type: 'Point',\r\n                            coordinates: [e.latlng.lng, e.latlng.lat]\r\n                        },\r\n                        properties: {\r\n                            'title': 'StreatBeat',\r\n                            'marker-color': '#ff8888',\r\n                            'marker-symbol': 'star'\r\n                        }\r\n                    });\r\n                    map.setView([currentlats,currnetlong],16);\r\n                });\r\n                // Initialize the geocoder control and add it to the map.\r\n                var geocoderControl = L.mapbox.geocoderControl( 'mapbox.places',\r\n                    {\r\n                        proximity :false,\r\n                        autocomplete: true\r\n                    });\r\n                geocoderControl.addTo(map);\r\n                //map.touchZoom.enable();\r\n                scope.callback(map);\r\n            }\r\n        };\r\n    }\r\n]);\r\n\r\nappModule.directive('sidebar', function() {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: 'client/app/views/sidebar.html',\r\n            link: function(scope, element) {\r\n                var $sidebar = $(element).children('[data-pages=\"sidebar\"]');\r\n                $sidebar.sidebar($sidebar.data());\r\n            }\r\n        };\r\n    });"],"sourceRoot":"/source/"}